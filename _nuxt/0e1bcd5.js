(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{165:function(e,t,n){var content=n(178);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("0013d457",content,!0,{sourceMap:!1})},166:function(e,t,n){var content=n(180);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("2c602d7e",content,!0,{sourceMap:!1})},167:function(e,t,n){var content=n(182);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(65).default)("6759f5ab",content,!0,{sourceMap:!1})},175:function(e,t,n){e.exports=n.p+"img/ciltone.07d6782.jpeg"},177:function(e,t,n){"use strict";n(165)},178:function(e,t,n){var r=n(64)(!1);r.push([e.i,"#helpbox[data-v-6ce8384f]{margin:10px}.key[data-v-6ce8384f]{font-family:monospace}",""]),e.exports=r},179:function(e,t,n){"use strict";n(166)},180:function(e,t,n){var r=n(64)(!1);r.push([e.i,"#about[data-v-543c0052]{margin:10px}",""]),e.exports=r},181:function(e,t,n){"use strict";n(167)},182:function(e,t,n){var r=n(64)(!1);r.push([e.i,"#title{background:linear-gradient(90deg,#7fff00,#fb33db);line-height:1.5em;font-weight:600;width:25vw;letter-spacing:.1em;margin-bottom:1em;padding:1rem;font-size:1.65em}.parent{max-width:100vw;max-height:75vh}#defaultCanvas0{position:relative;top:40px;left:40px;right:40px;transform-origin:left top}#app>button{display:inline-block;padding:1rem 2rem;margin:0 1rem 1rem 0;height:3rem;background-color:#6c5cff;text-decoration:none;color:#fff;cursor:pointer;border:0;text-align:center;transition:background .25s ease-in-out,transform .15s ease;-webkit-appearance:none;-moz-appearance:none}button:hover{background-color:#574bc1}button:focus{outline:none}button:active{transform:scale(.99)}",""]),e.exports=r},183:function(e,t,n){"use strict";n.r(t);var r=n(168),o=n.n(r),l=(n(36),n(22),n(31),n(47),n(48),n(9)),c=n(20),d=(n(35),n(32),n(169),n(30),n(171)),h=n.n(d),f=(n(172),n(174)),m=n.n(f);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x=function(e){var t=function(){},r="#000",o="#fff",c={pixels:7,inset:25,margin:50},d={ground:r,square:!1,circle:!0,dirty:!0,img:null,image:{data:null,name:""},canvas:null,pixelizationSlider:null,insetSlider:null,marginSlider:null,margin:0},f=function(e){return!e},v=function(){d.dirty=!1;var t=Math.floor(d.image.data.width/d.pixelizationSlider.value()),image=d.image.data,n=d.marginSlider.value(),r=Math.floor(image.width/t)*t+2*n,o=Math.floor(image.height/t)*t+2*n;e.resizeCanvas(r,o),d.image.data.loadPixels(),e.background(d.ground);var c=t-t*(d.insetSlider.value()/100)||t;e.push(),e.translate(n,n);var h=function(e){var t=e.pixelSize,img=e.img,n=Math.floor(img.width/t),r=Math.floor(img.height/t);return{pixels:new Array(n*r).fill({}).map((function(p,i){return{x:Math.floor(i/r),y:i%r}})),width:n,height:r}}({pixelSize:t,img:image});h.pixels.forEach((function(p){var n=function(t){var n=t.x,r=t.y,o=t.pixelSize,img=d.image.data,i=4*(n*o+r*o*img.width),c=img.pixels.slice(i,i+4)||[0,0,0,0],h=Object(l.a)(c,4),f=h[0],g=h[1],b=h[2],a=h[3];return e.color(f,g,b,a)}({x:p.x,y:p.y,pixelSize:t});e.fill(n),d.square&&e.square(p.x*t,p.y*t,t),d.circle&&e.circle(p.x*t+t/2,p.y*t+t/2,c)})),e.pop()},x=function(){var n,r,o,l,c,f,m,v,y,canvas,x;console.log("saving canvas: "),n="dottr.".concat(d.image.name,".").concat((o=new Date,l=o.getFullYear(),c=String(o.getMonth()+1).padStart(2,"0"),f=String(o.getDate()).padStart(2,"0"),m=String(o.getHours()).padStart(2,"0"),v=String(o.getMinutes()).padStart(2,"0"),y=String(o.getSeconds()).padStart(2,"0"),"".concat(l).concat(c).concat(f).concat(m).concat(v).concat(y))),r=0,t=function(){var e="".concat(n,"-").concat(String(r).padStart(6,"0"));return r+=1,e},canvas=e.drawingContext.canvas,x=t()+".png",canvas.toBlob((function(e){return h()(e,x)}))},w=function(t){d.image.data.loadPixels(),d.image.size={width:d.image.data.width,height:d.image.data.height};var n=d.canvas.elt.parentElement.parentElement,r=Math.min(.8*window.innerWidth/d.image.data.width,.8*n.offsetHeight/d.image.data.height);e.resizeCanvas(d.image.data.width,d.image.data.height),d.canvas.elt.style.transform="scale(".concat(r<1?r:1,")"),d.imageLoaded=!0,v()},k=function(t){t&&"image"===t.type?(d.imageLoaded=!1,d.image.data=e.loadImage(t.data,w),d.image.name=t.name):console.log("Not an image file!")};e.preload=function(){d.image.data=e.loadImage(n(175)),d.image.name="ciltone"},e.setup=function(){var canvas=e.createCanvas(d.image.data.width,d.image.data.height);canvas.parent("#sketch-holder"),canvas.drop(k),d.canvas=canvas,e.pixelDensity(1),e.image(d.image.data,0,0,d.image.data.width,d.image.data.height),e.noStroke(),d.pixelizationSlider=e.createSlider(2,100,c.pixels,1).parent("simple-gui").style("width","200px").input(m()(v,200)),d.insetSlider=e.createSlider(0,99,c.inset,1).parent("simple-gui").style("width","200px").input(m()(v,200)),d.marginSlider=e.createSlider(0,200,c.margin,1).parent("simple-gui").style("width","200px").input(m()(v,200))},e.keyTyped=function(){var t,n,l,h;return"1"===e.key?(d.square=f(d.square),d.dirty=!0):"2"===e.key?(d.circle=f(d.circle),d.dirty=!0):"b"===e.key?(d.ground=d.ground===o?r:o,d.dirty=!0):"d"===e.key?(n=(t={sliders:c}).newParams,l=void 0===n?{}:n,h=t.sliders,(d=y(y({},d),l)).pixelizationSlider.elt.value=h.pixels,d.insetSlider.elt.value=h.inset,d.marginSlider.elt.value=h.margin,d.dirty=!0):"s"===e.key&&x(),!1},e.draw=function(){d.dirty&&v()}},w=n(176),k=n.n(w),_=[{keys:["1"],note:"Toggle square pixels"},{keys:["2"],note:"Toggle circle pixels"},{keys:["b"],note:"Toggle background black | white"},{keys:["d"],note:"Reset sliders to initial state"},{keys:["s"],note:"Save"}],S={data:function(){return{keymap:_}}},O=(n(177),n(33)),j=Object(O.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"helpbox"}},[n("p",[e._v("Move sliders to change parameters")]),n("p",[e._v("Drag-n-drop image onto canvas for a new one")]),n("h3",[e._v("Keys")]),e._l(e.keymap,(function(t){return n("div",{key:t.key,attrs:{id:"keys"}},[n("span",[n("span",{staticClass:"key"},[e._v(e._s(t.keys.join(", "))+" ")]),e._v(" "+e._s(t.note))])])}))],2)}),[],!1,null,"6ce8384f",null).exports,M={},P=(n(179),Object(O.a)(M,(function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"about"}},[n("h1",[e._v("A maker of pixels, round and square")]),n("h2",[n("a",{attrs:{href:"http://michaelpaulukonis.github.io"}},[e._v("Michael Paulukonis")])]),n("h1",{attrs:{id:"sources"}},[e._v("Source code: "),n("a",{attrs:{href:"https://github.com/MichaelPaulukonis/dottr5"}},[e._v("GitHub")])]),n("h3",[e._v("More "),n("a",{attrs:{href:"https://michaelpaulukonis.github.io/sketches/"}},[e._v("Web Sketches")])]),n("h1",[e._v("Built with "),n("a",{attrs:{href:"https://p5js.org/"}},[e._v("P5")]),e._v(" and "),n("a",{attrs:{href:"https://nuxtjs.org"}},[e._v("Nuxt")])])])}],!1,null,"543c0052",null).exports),z={components:{VModal:k.a,Help:j,About:P},mounted:function(){new o.a((function(e){new x(e)}),"sketch-holder")},methods:{canvas:function(){return document.getElementsByTagName("canvas")[0]},about:function(){this.$modal.show("about")},help:function(){this.$modal.show("help")}}},E=(n(181),Object(O.a)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"title"}},[e._v("pixel8r")]),n("modal",{attrs:{name:"about"}},[n("About")],1),n("modal",{attrs:{name:"help",height:"auto",draggable:!0}},[n("Help")],1),n("button",{on:{click:e.help}},[e._v("help")]),n("button",{on:{click:e.about}},[e._v("About")]),e._m(0)],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"simple-gui"}}),n("div",{staticClass:"parent"},[n("div",{attrs:{id:"sketch-holder"}})]),n("noscript",[n("p",[e._v("JavaScript is required to view the contents of this page.")])])])}],!1,null,null,null));t.default=E.exports}}]);